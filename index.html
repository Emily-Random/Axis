<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PlanWise - AI Student Planner</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="app">
    <!-- Header -->
    <header class="app-header">
      <div class="logo">
        <span class="logo-mark">PW</span>
        <span class="logo-text">PlanWise</span>
      </div>
      <div class="header-message">
        Supportive, structured planning to keep you ahead of your deadlines. Procrastination is never allowed here.
      </div>
    </header>

    <main class="app-main">
      <!-- Left Sidebar -->
      <aside class="sidebar">
        <!-- To-Do List -->
        <section class="panel panel-tasks">
          <div class="panel-header">
            <h2>Toâ€‘Do List</h2>
            <span class="panel-subtitle">Ranked by urgency &amp; deadlines</span>
          </div>
          <div id="taskList" class="task-list">
            <!-- Tasks populated by JS -->
          </div>
        </section>

        <!-- Chatbot -->
        <section class="panel panel-chat">
          <div class="panel-header">
            <h2>PlanWise Assistant</h2>
            <span class="panel-subtitle">Ask for planning &amp; focus tips</span>
          </div>
          <div id="chatWindow" class="chat-window">
            <!-- Chat messages -->
          </div>
          <form id="chatForm" class="chat-input-row">
            <input
              type="text"
              id="chatInput"
              placeholder="Ask me anything about your schedule..."
              autocomplete="off"
            />
            <button type="submit" class="btn btn-primary">Send</button>
          </form>
        </section>
      </aside>

      <!-- Right Main Panel -->
      <section class="main-panel">
        <!-- Multi-step onboarding & tasks -->
        <section id="wizard" class="wizard">
          <!-- Step indicators -->
          <div class="wizard-steps">
            <div class="wizard-step-indicator" data-step="1">1. Profile</div>
            <div class="wizard-step-indicator" data-step="2">2. Tasks</div>
            <div class="wizard-step-indicator" data-step="3">3. Confirm</div>
          </div>

          <!-- Step 1: Onboarding -->
          <div class="wizard-step" data-step="1">
            <h2>Step 1: Tell PlanWise about you</h2>
            <p class="step-description">
              Iâ€™ll create a realistic plan around your real life, not the other way around.
            </p>

            <form id="profileForm" class="form-grid">
              <!-- Basic Info -->
              <fieldset>
                <legend>Basic Info</legend>
                <label>
                  Name
                  <input type="text" id="user_name" required />
                </label>

                <label>
                  Age group
                  <select id="user_age_group" required>
                    <option value="">Select...</option>
                    <option>Middle School</option>
                    <option>High School</option>
                    <option>College</option>
                    <option>Other</option>
                  </select>
                </label>
              </fieldset>

              <!-- Schedule & Routine -->
              <fieldset>
                <legend>Schedule &amp; Routine</legend>
                <div class="subsection">
                  <label>Weekly schedule (Monâ€‘Fri)</label>
                  <p class="hint">
                    Add multiple fixed commitments per day (classes, clubs, etc.). Each needs a name, time range, and optional description.
                  </p>
                  <div id="weekly_schedule" class="weekly-grid">
                    <!-- Generated by JS -->
                  </div>
                </div>

                <div class="subsection">
                  <label>Weekend fixed activities (Sat & Sun)</label>
                  <p class="hint">
                    Add multiple fixed activities for weekends. Each needs a day, name, time range, and optional description.
                  </p>
                  <div id="weekend_schedule" class="weekend-grid">
                    <!-- Generated by JS -->
                  </div>
                </div>

                <div class="two-col">
                  <label>
                    Typical sleep (weekdays)
                    <input type="text" id="sleep_weekdays" placeholder="23:00â€‘07:00" />
                  </label>
                  <label>
                    Typical sleep (weekends)
                    <input type="text" id="sleep_weekends" placeholder="00:00â€‘09:00" />
                  </label>
                </div>

                <label>
                  Standard break times (e.g., lunch)
                  <input type="text" id="break_times" placeholder="12:30â€‘13:00 lunch; 18:00â€‘18:30 dinner" />
                </label>
              </fieldset>

              <!-- Learning Personalization -->
              <fieldset>
                <legend>Learning Personalization</legend>

                <div class="button-group" id="is_procrastinator_group">
                  <span class="label-inline">Do you tend to procrastinate?</span>
                  <button type="button" data-value="yes">Yes</button>
                  <button type="button" data-value="no">No</button>
                  <input type="hidden" id="is_procrastinator" />
                </div>

                <div id="procrastinator_yes" class="conditional-row hidden">
                  <div class="two-col">
                    <label>
                      Procrastinator type
                      <select id="procrastinator_type">
                        <option value="">Select...</option>
                        <option>Perfectionist</option>
                        <option>Works better under pressure</option>
                        <option>Dreamer</option>
                      </select>
                    </label>
                    <div class="button-group" id="works_best_group">
                      <span class="label-inline">You work best...</span>
                      <button type="button" data-value="Under Pressure">Under Pressure</button>
                      <button type="button" data-value="With abundant time">With abundant time</button>
                      <input type="hidden" id="works_best" />
                    </div>
                  </div>
                </div>

                <div id="procrastinator_no" class="conditional-row hidden">
                  <div class="two-col">
                    <div class="button-group" id="has_trouble_finishing_group">
                      <span class="label-inline">Do you have trouble finishing?</span>
                      <button type="button" data-value="Yes, sometimes">Yes, sometimes</button>
                      <button type="button" data-value="No, I'm consistent">No, I'm consistent</button>
                      <input type="hidden" id="has_trouble_finishing" />
                    </div>
                    <label>
                      Preferred work style
                      <select id="preferred_work_style">
                        <option value="">Select...</option>
                        <option>Short, focused bursts</option>
                        <option>Long, deep sessions</option>
                        <option>A mix of both</option>
                      </select>
                    </label>
                  </div>
                </div>

                <div class="two-col">
                  <label>
                    Most productive time of day
                    <select id="most_productive_time">
                      <option value="">Select...</option>
                      <option>Early Morning</option>
                      <option>Morning</option>
                      <option>Afternoon</option>
                      <option>Evening</option>
                      <option>Late Night</option>
                    </select>
                  </label>

                  <label>
                    Preferred study method
                    <input
                      type="text"
                      id="preferred_study_method"
                      placeholder="e.g., 25-min study, 5-min break"
                    />
                  </label>
                </div>
              </fieldset>

              <!-- Work-Life Balance -->
              <fieldset>
                <legend>Workâ€‘Life Balance</legend>
                <div class="two-col">
                  <label>
                    Weekly personal (noâ€‘work) hours
                    <input
                      type="number"
                      id="weekly_personal_time"
                      min="0"
                      max="80"
                      step="0.5"
                      placeholder="e.g., 10"
                    />
                  </label>
                  <label>
                    Weekly review hours
                    <input
                      type="number"
                      id="weekly_review_hours"
                      min="0"
                      max="40"
                      step="0.5"
                      placeholder="e.g., 3"
                    />
                  </label>
                </div>
              </fieldset>

              <div class="wizard-actions">
                <button type="button" id="saveProfileBtn" class="btn btn-primary">
                  Save profile &amp; continue
                </button>
              </div>
            </form>
          </div>

          <!-- Step 2: Task Input -->
          <div class="wizard-step" data-step="2">
            <h2>Step 2: Add your tasks</h2>
            <p class="step-description">
              Iâ€™ll sort these by urgency and deadline, then place them intelligently into your week.
            </p>

            <form id="taskForm" class="task-form">
              <label>
                What is the task?
                <input type="text" id="task_name" required />
              </label>

              <label>How important and urgent is it?</label>
              <div class="priority-buttons" id="task_priority_group">
                <button type="button" data-value="Urgent & Important" class="priority urgent-important">
                  Urgent &amp; Important
                </button>
                <button type="button" data-value="Urgent, Not Important" class="priority urgent-not-important">
                  Urgent, Not Important
                </button>
                <button type="button" data-value="Important, Not Urgent" class="priority important-not-urgent">
                  Important, Not Urgent
                </button>
                <button type="button" data-value="Not Urgent & Not Important" class="priority not-urgent-not-important">
                  Not Urgent &amp; Not Important
                </button>
                <input type="hidden" id="task_priority" />
              </div>

              <div class="two-col">
                <label>
                  Deadline (date)
                  <input type="date" id="task_deadline" required />
                </label>

                <label>
                  Deadline time
                  <select id="task_deadline_time">
                    <!-- 15-min intervals generated by JS -->
                  </select>
                </label>
              </div>

              <div class="two-col">
                <label>
                  Estimated duration (hours)
                  <input
                    type="number"
                    id="task_duration"
                    min="0.5"
                    step="0.5"
                    placeholder="e.g., 2"
                    required
                  />
                </label>

                <label class="checkbox-row">
                  <input type="checkbox" id="computer_required" />
                  <span>Does this task require a computer?</span>
                </label>
              </div>

              <div class="wizard-actions">
                <button type="submit" class="btn btn-secondary">Add task to list</button>
              </div>
            </form>

            <div class="tasks-summary">
              <h3>Tasks you've added</h3>
              <p class="hint">You can keep adding tasks. When youâ€™re ready, Iâ€™ll create your schedule.</p>
              <div id="taskSummaryList" class="task-summary-list"></div>
              <button id="planTasksBtn" class="btn btn-primary" disabled>
                Plan My Tasks
              </button>
            </div>

            <div class="wizard-actions wizard-actions-bottom">
              <button type="button" id="backToProfileBtn" class="btn btn-ghost">Back to profile</button>
              <button type="button" id="goToConfirmBtn" class="btn btn-primary">Continue</button>
            </div>
          </div>

          <!-- Step 3: Confirmation -->
          <div class="wizard-step" data-step="3">
            <h2>Step 3: Confirm your plan</h2>
            <p class="step-description">
              Hereâ€™s how Iâ€™m ranking your tasks. Iâ€™ll schedule them so everything is completed
              <strong>before</strong> the deadline.
            </p>

            <div id="rankedTaskPreview" class="ranked-preview">
              <!-- Ranked tasks inserted here -->
            </div>

            <p class="confirm-text">
              Thank you, I have all the information.
              <br />
              <strong>Are you ready for me to create your personalized schedule?</strong>
            </p>

            <div class="confirm-actions">
              <button id="confirmGenerateBtn" class="btn btn-success">
                Yes âœ…
              </button>
              <button id="editTasksBtn" class="btn btn-ghost">
                Wait a sec... ðŸ¤”
              </button>
            </div>
          </div>
        </section>

        <!-- Calendar & Schedule -->
        <section class="calendar-section">
          <header class="calendar-header">
            <div class="calendar-title">
              <h2>Your AIâ€‘generated schedule</h2>
              <span id="calendarSubtitle" class="calendar-subtitle">
                Once generated, your timeâ€‘blocked plan will appear here.
              </span>
            </div>
            <div class="calendar-controls">
              <button class="btn-toggle-view active" data-view="daily">Daily</button>
              <button class="btn-toggle-view" data-view="weekly">Weekly</button>
              <button class="btn-toggle-view" data-view="monthly">Monthly</button>
            </div>
          </header>

          <div id="calendarContainer" class="calendar-container">
            <!-- Calendar rendered by JS -->
          </div>
        </section>
      </section>
    </main>

    <!-- Countdown overlay for "Under Pressure" users -->
    <div id="countdownOverlay" class="countdown-overlay hidden">
      <div class="countdown-card">
        <h3>Focus countdown</h3>
        <p id="countdownTaskName"></p>
        <div id="countdownTimer" class="countdown-timer">25:00</div>
        <button id="stopCountdownBtn" class="btn btn-secondary">Stop</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>


